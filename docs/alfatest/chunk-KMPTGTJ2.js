import{a as tt}from"./chunk-DD6ZMB54.js";import{a as Q,c as W,h as X}from"./chunk-LCFUJCMS.js";import{a as K}from"./chunk-SOS2MTMO.js";import{f as j,g as R,h as U,i as V,j as Z,k as q,l as H,n as J}from"./chunk-IS34MZJW.js";import{G as z,J as Y,g as $,h as N,i as x,k as w,m as B,o as k,p as D,s as G}from"./chunk-EENQSQLG.js";import{$c as L,Bb as p,La as n,Lb as r,Mb as y,Nb as s,Pa as v,Rb as F,Sb as A,Tb as I,X as _,Xa as S,_a as O,ab as g,ad as T,ib as l,nb as u,pb as f,qb as C,rb as M,sb as c,tb as a,ub as d,ud as E,vb as h,vd as b,wb as P}from"./chunk-QLFZEIEK.js";function nt(e,o){if(e&1&&(c(0,"mat-icon"),r(1,"language"),a(),r(2)),e&2){let t=p().$implicit;n(2),s(" ",t("pages.settings.application.application_language_default")," ")}}function it(e,o){if(e&1&&(d(0,"mat-icon",11),r(1)),e&2){let t=p().$implicit;l("svgIcon",t.icon),n(),s(" ",t.language," ")}}function at(e,o){if(e&1&&g(0,it,2,2),e&2){let t=o.$implicit;p(2);let i=I(13);u(t.code===i?0:-1)}}function ot(e,o){if(e&1&&C(0,at,1,1,null,null,f),e&2){let t=p(2);M(t.languageList)}}function rt(e,o){if(e&1&&(c(0,"mat-option",10),d(1,"mat-icon",11),r(2),a()),e&2){let t=o.$implicit;l("value",t.code),n(),l("svgIcon",t.icon),n(),s(" ",t.language," ")}}function ct(e,o){if(e&1&&(h(0),c(1,"form",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-content")(5,"div",4),d(6,"app-title-bar",5),a(),c(7,"div",6)(8,"mat-form-field")(9,"mat-label"),r(10),a(),c(11,"mat-select",7)(12,"mat-select-trigger",8),F(13),g(14,nt,3,1)(15,ot,2,0),a(),c(16,"mat-option",9)(17,"mat-icon"),r(18,"language"),a(),r(19),a(),C(20,rt,3,3,"mat-option",10,f),a()()()()()()(),P()),e&2){let t,i=o.$implicit,m=p();n(),l("formGroup",m.settingsForm),n(5),l("action",m.eTitleBarAction.NONE)("title",i("pages.settings.application.preferences_title"))("textSize","small"),n(4),y(i("pages.settings.application.application_language")),n(3);let et=A((t=m.settingsForm.get("userLanguage"))==null?null:t.value);n(),u(et==="OS"?14:15),n(5),s(" ",i("pages.settings.application.application_language_default")," "),n(),M(m.languageList)}}var It=(()=>{class e extends K{_languageService;applicationSettings$;settingsForm=new x({});languageList=[];eTitleBarAction=j;constructor(t){super(),this._languageService=t,this.applicationSettings$=this._store.select(Y.getApplicationSettings)}ngOnInit(){this.languageList=this._languageService.getLanguageList(),this.applicationSettings$.pipe(_(this.destroy$)).subscribe(t=>{this.loadSettingForm(t)})}loadSettingForm(t){this.settingsForm=new x({userLanguage:new w({value:t.userLanguage?t.userLanguage:"",disabled:!1},[])}),this.settingsForm.valueChanges.pipe(_(this.destroy$)).subscribe(i=>{this.saveSettings(i)})}saveSettings(t){this._store.dispatch(new z.SaveApplicationSettings(t))}static \u0275fac=function(i){return new(i||e)(v(tt))};static \u0275cmp=S({type:e,selectors:[["app-application"]],features:[O],decls:1,vars:0,consts:[[4,"transloco"],[3,"formGroup"],[1,"settings-application-container"],["appearance","raised"],[1,"card-header"],[3,"action","title","textSize"],[1,"language-list"],["formControlName","userLanguage"],[1,"select-display"],["value","OS"],[3,"value"],[3,"svgIcon"]],template:function(i,m){i&1&&g(0,ct,22,8,"ng-container",0)},dependencies:[T,L,H,V,U,Z,q,R,X,Q,W,b,E,G,B,$,N,k,D,J],styles:['@font-face{font-family:gameFont;src:url("./media/PossumSaltareNF-CECI3YYZ.ttf")}.settings-application-container[_ngcontent-%COMP%]{padding:.5rem;background-color:#f7f7f7}.settings-application-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{background-color:#fff}.settings-application-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem;padding:0rem}.settings-application-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]   .select-display[_ngcontent-%COMP%]{vertical-align:bottom}.settings-application-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin:1rem 0rem}.settings-application-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.settings-application-container[_ngcontent-%COMP%]   .select-display[_ngcontent-%COMP%]{display:inline-flex;align-items:flex-end;gap:4px}.settings-application-container[_ngcontent-%COMP%]   .select-display[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;line-height:20px;padding-right:.75rem;width:24px;height:24px}']})}return e})();export{It as ApplicationComponent};
